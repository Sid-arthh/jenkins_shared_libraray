@Library("my-shared-lib") _
pipeline {
    agent any
    environment {
        AWS_REGION = "us-east-1"
        ECS_CLUSTER_NAME = 'SHARED_LIB'
        ECS_SERVICE_NAME = 'SERVICE5'
    }
    stages {

    stage('Build') {
        steps {
            script {
                appBuilder.buildApp()
                def imageUri = appBuilder.DockerBuildPushToECR()
                deployToECS(imageUri)
            }
        }
    }
    stage('clean workspace') {
            steps {
                cleanWs()
            }
        }
        
  }
}
